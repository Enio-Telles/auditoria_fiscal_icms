# Configuração do Sistema de Auditoria Fiscal ICMS
# Copie este arquivo para .env e configure suas variáveis

# =========================================
# CONFIGURAÇÃO DO BANCO DE DADOS PRINCIPAL
# =========================================
DATABASE_URL=postgresql://postgres:admin@localhost:5432/auditoria_fiscal_icms
DB_HOST=localhost
DB_PORT=5432
DB_NAME=auditoria_fiscal_icms
DB_USER=postgres
DB_PASSWORD=admin
DB_SCHEMA=public

# =========================================
# CONFIGURAÇÃO DO BANCO DE DADOS EXTERNO (IMPORTAÇÃO)
# =========================================
# Configuração para importação de dados de empresas
EXTERNAL_DB_TYPE=postgresql
EXTERNAL_DB_HOST=localhost
EXTERNAL_DB_PORT=5432
EXTERNAL_DB_NAME=db_04565289005297
EXTERNAL_DB_USER=postgres
EXTERNAL_DB_PASSWORD=sefin
EXTERNAL_DB_SCHEMA=dbo

# =========================================
# AUTENTICAÇÃO E SEGURANÇA
# =========================================
SECRET_KEY=your-secret-key-change-this-in-production
ACCESS_TOKEN_EXPIRE_MINUTES=30
ALGORITHM=HS256
SECURITY_PASSWORD_SALT=your-password-salt-here

# =========================================
# CONFIGURAÇÃO DE IA E LLM
# =========================================
# Ollama (Local)
OLLAMA_HOST=http://localhost:11434
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1:8b
OLLAMA_DEFAULT_MODEL=llama3

# OpenAI
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_DEFAULT_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=1000

# Anthropic
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_DEFAULT_MODEL=claude-3-haiku

# Hugging Face
HUGGINGFACE_API_KEY=your_huggingface_api_key_here

# Configurações Gerais de IA
DEFAULT_AI_PROVIDER=ollama
AI_TEMPERATURE=0.7
AI_MAX_TOKENS=1000
AI_TIMEOUT=60
CONFIDENCE_THRESHOLD=0.7
MAX_RETRIES=3

# =========================================
# CONFIGURAÇÃO RAG
# =========================================
CHROMA_PERSIST_DIRECTORY=data/chroma_db
EMBEDDINGS_MODEL=sentence-transformers/all-MiniLM-L6-v2
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
MAX_RETRIEVAL_DOCS=5

# =========================================
# CONFIGURAÇÃO DE ARQUIVOS
# =========================================
UPLOAD_DIRECTORY=./data/uploads
MAX_FILE_SIZE=10485760  # 10MB
ALLOWED_FILE_EXTENSIONS=.xlsx,.xls,.csv,.pdf
TEMP_DIRECTORY=./data/temp

# =========================================
# CONFIGURAÇÃO DO SISTEMA
# =========================================
DEBUG=false
LOG_LEVEL=INFO
LOG_FILE=logs/ai_classification.log
ENVIRONMENT=development

# URLs dos Serviços (para arquitetura de microserviços)
API_GATEWAY_URL=http://localhost:8000
AUTH_SERVICE_URL=http://localhost:8001
TENANT_SERVICE_URL=http://localhost:8002
PRODUCT_SERVICE_URL=http://localhost:8003
CLASSIFICATION_SERVICE_URL=http://localhost:8004
IMPORT_SERVICE_URL=http://localhost:8005
AI_SERVICE_URL=http://localhost:8006

# =========================================
# CONFIGURAÇÃO DO FRONTEND
# =========================================
FRONTEND_URL=http://localhost:3000
CORS_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000"]

# =========================================
# CONFIGURAÇÃO DE CACHE E REDIS
# =========================================
REDIS_URL=redis://localhost:6379/0
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_TTL_HOURS=24
ENABLE_CACHE=true

# =========================================
# CONFIGURAÇÃO DE CLASSIFICAÇÃO
# =========================================
# Limiares de confiança para classificação automática
AUTO_CLASSIFICATION_THRESHOLD=0.85
MANUAL_REVIEW_THRESHOLD=0.60
BATCH_SIZE=10
MAX_CONCURRENT_REQUESTS=10

# Cost Optimization
MAX_DAILY_COST_USD=50.0
PREFER_LOCAL_MODELS=true

# Golden Set
GOLDEN_SET_VERSION=1.0
GOLDEN_SET_UPDATE_THRESHOLD=0.95

# =========================================
# CONFIGURAÇÃO DE RELATÓRIOS
# =========================================
REPORTS_DIRECTORY=./data/reports
EXPORT_FORMATS=xlsx,csv,pdf
DEFAULT_EXPORT_FORMAT=xlsx

# =========================================
# CONFIGURAÇÃO DE MONITORAMENTO
# =========================================
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=60

# =========================================
# CONFIGURAÇÃO DE EMAIL (OPCIONAL)
# =========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-email-password
SMTP_FROM=noreply@auditoriafiscal.com

# =========================================
# CONFIGURAÇÃO DE BACKUP
# =========================================
BACKUP_DIRECTORY=./data/backups
BACKUP_RETENTION_DAYS=30
AUTO_BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Todo dia às 2h da manhã
